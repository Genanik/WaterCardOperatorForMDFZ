package org.genanik.util;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class WaterCardUtil {

    public List<String> getKeys(String uid){
        List<String> keys = new ArrayList();
        List<String> lastByte1 = new ArrayList();
        List<String> lastByte2 = new ArrayList();
        List<String> lastByte3 = new ArrayList();

        lastByte1.add("3");
        lastByte1.add("7");
        lastByte1.add("b");
        lastByte1.add("f");
        lastByte2.add("3");
        lastByte2.add("7");
        lastByte3.add("e");
        lastByte3.add("f");

        //不默认添加KeyB
        //keys.add("956605146902");
        for (int i = 0; i < 3; i++) {
            for (int j = 0; j < lastByte1.size(); j++) {
                keys.add(98 + uid + i + lastByte1.get(j));
                //System.out.println(98 + uid + i + lastByte1.get(j));
            }
        }
        for (int i = 0; i < lastByte2.size(); i++) {
            keys.add(98 + uid + 3 + lastByte2.get(i));
            //System.out.println(98 + uid + 3 + lastByte2.get(i));
        }
        for (int i = 0; i < lastByte3.size(); i++) {
            keys.add(73 + uid + 0 + lastByte3.get(i));
            //System.out.println(73 + uid + 0 + lastByte3.get(i));
        }
        return keys;
    }

    private void maker() throws IOException {

        //按顺序替换ffffffffffff就可以制作密码dump了
        nfcTools nfcOperater = new nfcTools();
        List<List<List<String>>> org = nfcOperater.readDump("/Users/genanik/Desktop/水卡/dumps/Card5/dump.dump");
        for (int i = 0; i < org.size(); i++) {
            //遍历非密码区
            for (int j = 0; j < org.get(i).size()-1; j++) {
                org.get(i).get(j).set(0,"000000000000");
                org.get(i).get(j).set(1,"00000000");
                org.get(i).get(j).set(2,"000000000000");

                for (int k = 0; k < 3; k++) {
                    System.out.print(org.get(i).get(j).get(k));
                }
            }
            //修改密码区
            org.get(i).get(3).set(0,"ffffffffffff");
            //org.get(i).get(3).set(1,"00000000");
            //org.get(i).get(3).set(2,"ffffffffffff");
            //System.out.println(org.get(i));
            for (int k = 0; k < 3; k++) {
                System.out.print(org.get(i).get(3).get(k));
            }
        }
    }

    public String fullZoreCard = "thissuid000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";

    public String noneKeyACard = "thissuid0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fffffffffffff7878095956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff078069956605146902000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff078069956605146902";
}
